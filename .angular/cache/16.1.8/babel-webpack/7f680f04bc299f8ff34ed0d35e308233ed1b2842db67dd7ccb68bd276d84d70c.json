{"ast":null,"code":"import debugIt from 'debug';\nexport { processOptions, validateOptions } from './_chunks/defaultOptionsValidator-f87a8c35.js';\nimport { isPlainObject } from 'is-plain-object';\nfunction agent(opts) {\n  return {};\n}\nconst leadingSlash = /^\\//;\nconst trailingSlash = /\\/$/;\nfunction base(baseUrl) {\n  const baseUri = baseUrl.replace(trailingSlash, \"\");\n  return {\n    processOptions: options => {\n      if (/^https?:\\/\\//i.test(options.url)) {\n        return options;\n      }\n      const url = [baseUri, options.url.replace(leadingSlash, \"\")].join(\"/\");\n      return Object.assign({}, options, {\n        url\n      });\n    }\n  };\n}\nconst SENSITIVE_HEADERS = [\"cookie\", \"authorization\"];\nconst hasOwn = Object.prototype.hasOwnProperty;\nconst redactKeys = (source, redacted) => {\n  const target = {};\n  for (const key in source) {\n    if (hasOwn.call(source, key)) {\n      target[key] = redacted.indexOf(key.toLowerCase()) > -1 ? \"<redacted>\" : source[key];\n    }\n  }\n  return target;\n};\nfunction debug() {\n  let opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  const verbose = opts.verbose;\n  const namespace = opts.namespace || \"get-it\";\n  const defaultLogger = debugIt(namespace);\n  const log = opts.log || defaultLogger;\n  const shortCircuit = log === defaultLogger && !debugIt.enabled(namespace);\n  let requestId = 0;\n  return {\n    processOptions: options => {\n      options.debug = log;\n      options.requestId = options.requestId || ++requestId;\n      return options;\n    },\n    onRequest: event => {\n      if (shortCircuit || !event) {\n        return event;\n      }\n      const options = event.options;\n      log(\"[%s] HTTP %s %s\", options.requestId, options.method, options.url);\n      if (verbose && options.body && typeof options.body === \"string\") {\n        log(\"[%s] Request body: %s\", options.requestId, options.body);\n      }\n      if (verbose && options.headers) {\n        const headers = opts.redactSensitiveHeaders === false ? options.headers : redactKeys(options.headers, SENSITIVE_HEADERS);\n        log(\"[%s] Request headers: %s\", options.requestId, JSON.stringify(headers, null, 2));\n      }\n      return event;\n    },\n    onResponse: (res, context) => {\n      if (shortCircuit || !res) {\n        return res;\n      }\n      const reqId = context.options.requestId;\n      log(\"[%s] Response code: %s %s\", reqId, res.statusCode, res.statusMessage);\n      if (verbose && res.body) {\n        log(\"[%s] Response body: %s\", reqId, stringifyBody(res));\n      }\n      return res;\n    },\n    onError: (err, context) => {\n      const reqId = context.options.requestId;\n      if (!err) {\n        log(\"[%s] Error encountered, but handled by an earlier middleware\", reqId);\n        return err;\n      }\n      log(\"[%s] ERROR: %s\", reqId, err.message);\n      return err;\n    }\n  };\n}\nfunction stringifyBody(res) {\n  const contentType = (res.headers[\"content-type\"] || \"\").toLowerCase();\n  const isJson = contentType.indexOf(\"application/json\") !== -1;\n  return isJson ? tryFormat(res.body) : res.body;\n}\nfunction tryFormat(body) {\n  try {\n    const parsed = typeof body === \"string\" ? JSON.parse(body) : body;\n    return JSON.stringify(parsed, null, 2);\n  } catch (err) {\n    return body;\n  }\n}\nfunction headers(_headers) {\n  let opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return {\n    processOptions: options => {\n      const existing = options.headers || {};\n      options.headers = opts.override ? Object.assign({}, existing, _headers) : Object.assign({}, _headers, existing);\n      return options;\n    }\n  };\n}\nvar __defProp$1 = Object.defineProperty;\nvar __defNormalProp$1 = (obj, key, value) => key in obj ? __defProp$1(obj, key, {\n  enumerable: true,\n  configurable: true,\n  writable: true,\n  value\n}) : obj[key] = value;\nvar __publicField$1 = (obj, key, value) => {\n  __defNormalProp$1(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nclass HttpError extends Error {\n  constructor(res, ctx) {\n    super();\n    __publicField$1(this, \"response\");\n    __publicField$1(this, \"request\");\n    const truncatedUrl = res.url.length > 400 ? \"\".concat(res.url.slice(0, 399), \"\\u2026\") : res.url;\n    let msg = \"\".concat(res.method, \"-request to \").concat(truncatedUrl, \" resulted in \");\n    msg += \"HTTP \".concat(res.statusCode, \" \").concat(res.statusMessage);\n    this.message = msg.trim();\n    this.response = res;\n    this.request = ctx.options;\n  }\n}\nfunction httpErrors() {\n  return {\n    onResponse: (res, ctx) => {\n      const isHttpError = res.statusCode >= 400;\n      if (!isHttpError) {\n        return res;\n      }\n      throw new HttpError(res, ctx);\n    }\n  };\n}\nfunction injectResponse() {\n  let opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  if (typeof opts.inject !== \"function\") {\n    throw new Error(\"`injectResponse` middleware requires a `inject` function\");\n  }\n  const inject = function inject2(prevValue, event) {\n    const response = opts.inject(event, prevValue);\n    if (!response) {\n      return prevValue;\n    }\n    const options = event.context.options;\n    return {\n      body: \"\",\n      url: options.url,\n      method: options.method,\n      headers: {},\n      statusCode: 200,\n      statusMessage: \"OK\",\n      ...response\n    };\n  };\n  return {\n    interceptRequest: inject\n  };\n}\nconst isBuffer = typeof Buffer === \"undefined\" ? () => false : obj => Buffer.isBuffer(obj);\nconst serializeTypes = [\"boolean\", \"string\", \"number\"];\nfunction jsonRequest() {\n  return {\n    processOptions: options => {\n      const body = options.body;\n      if (!body) {\n        return options;\n      }\n      const isStream = typeof body.pipe === \"function\";\n      const shouldSerialize = !isStream && !isBuffer(body) && (serializeTypes.indexOf(typeof body) !== -1 || Array.isArray(body) || isPlainObject(body));\n      if (!shouldSerialize) {\n        return options;\n      }\n      return Object.assign({}, options, {\n        body: JSON.stringify(options.body),\n        headers: Object.assign({}, options.headers, {\n          \"Content-Type\": \"application/json\"\n        })\n      });\n    }\n  };\n}\nfunction jsonResponse(opts) {\n  return {\n    onResponse: response => {\n      const contentType = response.headers[\"content-type\"] || \"\";\n      const shouldDecode = opts && opts.force || contentType.indexOf(\"application/json\") !== -1;\n      if (!response.body || !contentType || !shouldDecode) {\n        return response;\n      }\n      return Object.assign({}, response, {\n        body: tryParse(response.body)\n      });\n    },\n    processOptions: options => Object.assign({}, options, {\n      headers: Object.assign({\n        Accept: \"application/json\"\n      }, options.headers)\n    })\n  };\n  function tryParse(body) {\n    try {\n      return JSON.parse(body);\n    } catch (err) {\n      err.message = \"Failed to parsed response body as JSON: \".concat(err.message);\n      throw err;\n    }\n  }\n}\nfunction isBrowserOptions(options) {\n  return typeof options === \"object\" && options !== null && !(\"protocol\" in options);\n}\nfunction mtls() {\n  let config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  if (!config.ca) {\n    throw new Error('Required mtls option \"ca\" is missing');\n  }\n  if (!config.cert) {\n    throw new Error('Required mtls option \"cert\" is missing');\n  }\n  if (!config.key) {\n    throw new Error('Required mtls option \"key\" is missing');\n  }\n  return {\n    finalizeOptions: options => {\n      if (isBrowserOptions(options)) {\n        return options;\n      }\n      const mtlsOpts = {\n        cert: config.cert,\n        key: config.key,\n        ca: config.ca\n      };\n      return Object.assign({}, options, mtlsOpts);\n    }\n  };\n}\nlet actualGlobal = {};\nif (typeof globalThis !== \"undefined\") {\n  actualGlobal = globalThis;\n} else if (typeof window !== \"undefined\") {\n  actualGlobal = window;\n} else if (typeof global !== \"undefined\") {\n  actualGlobal = global;\n} else if (typeof self !== \"undefined\") {\n  actualGlobal = self;\n}\nvar global$1 = actualGlobal;\nfunction observable() {\n  let opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  const Observable =\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any -- @TODO consider dropping checking for a global Observable since it's not on a standards track\n  opts.implementation || global$1.Observable;\n  if (!Observable) {\n    throw new Error(\"`Observable` is not available in global scope, and no implementation was passed\");\n  }\n  return {\n    onReturn: (channels, context) => new Observable(observer => {\n      channels.error.subscribe(err => observer.error(err));\n      channels.progress.subscribe(event => observer.next(Object.assign({\n        type: \"progress\"\n      }, event)));\n      channels.response.subscribe(response => {\n        observer.next(Object.assign({\n          type: \"response\"\n        }, response));\n        observer.complete();\n      });\n      channels.request.publish(context);\n      return () => channels.abort.publish();\n    })\n  };\n}\nfunction progress() {\n  return {\n    onRequest: evt => {\n      if (evt.adapter !== \"xhr\") {\n        return;\n      }\n      const xhr = evt.request;\n      const context = evt.context;\n      if (\"upload\" in xhr && \"onprogress\" in xhr.upload) {\n        xhr.upload.onprogress = handleProgress(\"upload\");\n      }\n      if (\"onprogress\" in xhr) {\n        xhr.onprogress = handleProgress(\"download\");\n      }\n      function handleProgress(stage) {\n        return event => {\n          const percent = event.lengthComputable ? event.loaded / event.total * 100 : -1;\n          context.channels.progress.publish({\n            stage,\n            percent,\n            total: event.total,\n            loaded: event.loaded,\n            lengthComputable: event.lengthComputable\n          });\n        };\n      }\n    }\n  };\n}\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, {\n  enumerable: true,\n  configurable: true,\n  writable: true,\n  value\n}) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nconst promise = function () {\n  let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  const PromiseImplementation = options.implementation || Promise;\n  if (!PromiseImplementation) {\n    throw new Error(\"`Promise` is not available in global scope, and no implementation was passed\");\n  }\n  return {\n    onReturn: (channels, context) => new PromiseImplementation((resolve, reject) => {\n      const cancel = context.options.cancelToken;\n      if (cancel) {\n        cancel.promise.then(reason => {\n          channels.abort.publish(reason);\n          reject(reason);\n        });\n      }\n      channels.error.subscribe(reject);\n      channels.response.subscribe(response => {\n        resolve(options.onlyBody ? response.body : response);\n      });\n      setTimeout(() => {\n        try {\n          channels.request.publish(context);\n        } catch (err) {\n          reject(err);\n        }\n      }, 0);\n    })\n  };\n};\nclass Cancel {\n  constructor(message) {\n    __publicField(this, \"__CANCEL__\", true);\n    __publicField(this, \"message\");\n    this.message = message;\n  }\n  toString() {\n    return \"Cancel\".concat(this.message ? \": \".concat(this.message) : \"\");\n  }\n}\nconst _CancelToken = class _CancelToken {\n  constructor(executor) {\n    __publicField(this, \"promise\");\n    __publicField(this, \"reason\");\n    if (typeof executor !== \"function\") {\n      throw new TypeError(\"executor must be a function.\");\n    }\n    let resolvePromise = null;\n    this.promise = new Promise(resolve => {\n      resolvePromise = resolve;\n    });\n    executor(message => {\n      if (this.reason) {\n        return;\n      }\n      this.reason = new Cancel(message);\n      resolvePromise(this.reason);\n    });\n  }\n};\n__publicField(_CancelToken, \"source\", () => {\n  let cancel;\n  const token = new _CancelToken(can => {\n    cancel = can;\n  });\n  return {\n    token,\n    cancel\n  };\n});\nlet CancelToken = _CancelToken;\nconst isCancel = value => !!(value && (value == null ? void 0 : value.__CANCEL__));\npromise.Cancel = Cancel;\npromise.CancelToken = CancelToken;\npromise.isCancel = isCancel;\nfunction proxy(_proxy) {\n  if (_proxy !== false && (!_proxy || !_proxy.host)) {\n    throw new Error(\"Proxy middleware takes an object of host, port and auth properties\");\n  }\n  return {\n    processOptions: options => Object.assign({\n      proxy: _proxy\n    }, options)\n  };\n}\nvar defaultShouldRetry = (err, attempt, options) => {\n  if (options.method !== \"GET\" && options.method !== \"HEAD\") {\n    return false;\n  }\n  return err.isNetworkError || false;\n};\nconst isStream = stream => stream !== null && typeof stream === \"object\" && typeof stream.pipe === \"function\";\nvar sharedRetry = opts => {\n  const maxRetries = opts.maxRetries || 5;\n  const retryDelay = opts.retryDelay || getRetryDelay;\n  const allowRetry = opts.shouldRetry;\n  return {\n    onError: (err, context) => {\n      const options = context.options;\n      const max = options.maxRetries || maxRetries;\n      const shouldRetry = options.shouldRetry || allowRetry;\n      const attemptNumber = options.attemptNumber || 0;\n      if (isStream(options.body)) {\n        return err;\n      }\n      if (!shouldRetry(err, attemptNumber, options) || attemptNumber >= max) {\n        return err;\n      }\n      const newContext = Object.assign({}, context, {\n        options: Object.assign({}, options, {\n          attemptNumber: attemptNumber + 1\n        })\n      });\n      setTimeout(() => context.channels.request.publish(newContext), retryDelay(attemptNumber));\n      return null;\n    }\n  };\n};\nfunction getRetryDelay(attemptNum) {\n  return 100 * Math.pow(2, attemptNum) + Math.random() * 100;\n}\nconst retry = function () {\n  let opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return sharedRetry({\n    shouldRetry: defaultShouldRetry,\n    ...opts\n  });\n};\nretry.shouldRetry = defaultShouldRetry;\nfunction encode(data) {\n  const query = new URLSearchParams();\n  const nest = (name, _value) => {\n    const value = _value instanceof Set ? Array.from(_value) : _value;\n    if (Array.isArray(value)) {\n      if (value.length) {\n        for (const index in value) {\n          nest(\"\".concat(name, \"[\").concat(index, \"]\"), value[index]);\n        }\n      } else {\n        query.append(\"\".concat(name, \"[]\"), \"\");\n      }\n    } else if (typeof value === \"object\" && value !== null) {\n      for (const [key, obj] of Object.entries(value)) {\n        nest(\"\".concat(name, \"[\").concat(key, \"]\"), obj);\n      }\n    } else {\n      query.append(name, value);\n    }\n  };\n  for (const [key, value] of Object.entries(data)) {\n    nest(key, value);\n  }\n  return query.toString();\n}\nfunction urlEncoded() {\n  return {\n    processOptions: options => {\n      const body = options.body;\n      if (!body) {\n        return options;\n      }\n      const isStream = typeof body.pipe === \"function\";\n      const shouldSerialize = !isStream && !isBuffer(body) && isPlainObject(body);\n      if (!shouldSerialize) {\n        return options;\n      }\n      return {\n        ...options,\n        body: encode(options.body),\n        headers: {\n          ...options.headers,\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        }\n      };\n    }\n  };\n}\nfunction buildKeepAlive(agent) {\n  return function keepAlive() {\n    let config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    const ms = config.ms || 1e3;\n    const maxFree = config.maxFree || 256;\n    const agentOptions = {\n      keepAlive: true,\n      keepAliveMsecs: ms,\n      maxFreeSockets: maxFree\n    };\n    return agent(agentOptions);\n  };\n}\nconst keepAlive = buildKeepAlive(agent);\nexport { Cancel, CancelToken, agent, base, debug, headers, httpErrors, injectResponse, jsonRequest, jsonResponse, keepAlive, mtls, observable, progress, promise, proxy, retry, urlEncoded };","map":{"version":3,"names":["debugIt","processOptions","validateOptions","isPlainObject","agent","opts","leadingSlash","trailingSlash","base","baseUrl","baseUri","replace","options","test","url","join","Object","assign","SENSITIVE_HEADERS","hasOwn","prototype","hasOwnProperty","redactKeys","source","redacted","target","key","call","indexOf","toLowerCase","debug","arguments","length","undefined","verbose","namespace","defaultLogger","log","shortCircuit","enabled","requestId","onRequest","event","method","body","headers","redactSensitiveHeaders","JSON","stringify","onResponse","res","context","reqId","statusCode","statusMessage","stringifyBody","onError","err","message","contentType","isJson","tryFormat","parsed","parse","_headers","existing","override","__defProp$1","defineProperty","__defNormalProp$1","obj","value","enumerable","configurable","writable","__publicField$1","HttpError","Error","constructor","ctx","truncatedUrl","concat","slice","msg","trim","response","request","httpErrors","isHttpError","injectResponse","inject","inject2","prevValue","interceptRequest","isBuffer","Buffer","serializeTypes","jsonRequest","isStream","pipe","shouldSerialize","Array","isArray","jsonResponse","shouldDecode","force","tryParse","Accept","isBrowserOptions","mtls","config","ca","cert","finalizeOptions","mtlsOpts","actualGlobal","globalThis","window","global","self","global$1","observable","Observable","implementation","onReturn","channels","observer","error","subscribe","progress","next","type","complete","publish","abort","evt","adapter","xhr","upload","onprogress","handleProgress","stage","percent","lengthComputable","loaded","total","__defProp","__defNormalProp","__publicField","promise","PromiseImplementation","Promise","resolve","reject","cancel","cancelToken","then","reason","onlyBody","setTimeout","Cancel","toString","_CancelToken","executor","TypeError","resolvePromise","token","can","CancelToken","isCancel","__CANCEL__","proxy","_proxy","host","defaultShouldRetry","attempt","isNetworkError","stream","sharedRetry","maxRetries","retryDelay","getRetryDelay","allowRetry","shouldRetry","max","attemptNumber","newContext","attemptNum","Math","pow","random","retry","encode","data","query","URLSearchParams","nest","name","_value","Set","from","index","append","entries","urlEncoded","buildKeepAlive","keepAlive","ms","maxFree","agentOptions","keepAliveMsecs","maxFreeSockets"],"sources":["/Users/hany/work/development/angular/tutorials/spa-angular-sanity/node_modules/get-it/dist/middleware.browser.js"],"sourcesContent":["import debugIt from 'debug';\nexport { processOptions, validateOptions } from './_chunks/defaultOptionsValidator-f87a8c35.js';\nimport { isPlainObject } from 'is-plain-object';\nfunction agent(opts) {\n  return {};\n}\nconst leadingSlash = /^\\//;\nconst trailingSlash = /\\/$/;\nfunction base(baseUrl) {\n  const baseUri = baseUrl.replace(trailingSlash, \"\");\n  return {\n    processOptions: options => {\n      if (/^https?:\\/\\//i.test(options.url)) {\n        return options;\n      }\n      const url = [baseUri, options.url.replace(leadingSlash, \"\")].join(\"/\");\n      return Object.assign({}, options, {\n        url\n      });\n    }\n  };\n}\nconst SENSITIVE_HEADERS = [\"cookie\", \"authorization\"];\nconst hasOwn = Object.prototype.hasOwnProperty;\nconst redactKeys = (source, redacted) => {\n  const target = {};\n  for (const key in source) {\n    if (hasOwn.call(source, key)) {\n      target[key] = redacted.indexOf(key.toLowerCase()) > -1 ? \"<redacted>\" : source[key];\n    }\n  }\n  return target;\n};\nfunction debug() {\n  let opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  const verbose = opts.verbose;\n  const namespace = opts.namespace || \"get-it\";\n  const defaultLogger = debugIt(namespace);\n  const log = opts.log || defaultLogger;\n  const shortCircuit = log === defaultLogger && !debugIt.enabled(namespace);\n  let requestId = 0;\n  return {\n    processOptions: options => {\n      options.debug = log;\n      options.requestId = options.requestId || ++requestId;\n      return options;\n    },\n    onRequest: event => {\n      if (shortCircuit || !event) {\n        return event;\n      }\n      const options = event.options;\n      log(\"[%s] HTTP %s %s\", options.requestId, options.method, options.url);\n      if (verbose && options.body && typeof options.body === \"string\") {\n        log(\"[%s] Request body: %s\", options.requestId, options.body);\n      }\n      if (verbose && options.headers) {\n        const headers = opts.redactSensitiveHeaders === false ? options.headers : redactKeys(options.headers, SENSITIVE_HEADERS);\n        log(\"[%s] Request headers: %s\", options.requestId, JSON.stringify(headers, null, 2));\n      }\n      return event;\n    },\n    onResponse: (res, context) => {\n      if (shortCircuit || !res) {\n        return res;\n      }\n      const reqId = context.options.requestId;\n      log(\"[%s] Response code: %s %s\", reqId, res.statusCode, res.statusMessage);\n      if (verbose && res.body) {\n        log(\"[%s] Response body: %s\", reqId, stringifyBody(res));\n      }\n      return res;\n    },\n    onError: (err, context) => {\n      const reqId = context.options.requestId;\n      if (!err) {\n        log(\"[%s] Error encountered, but handled by an earlier middleware\", reqId);\n        return err;\n      }\n      log(\"[%s] ERROR: %s\", reqId, err.message);\n      return err;\n    }\n  };\n}\nfunction stringifyBody(res) {\n  const contentType = (res.headers[\"content-type\"] || \"\").toLowerCase();\n  const isJson = contentType.indexOf(\"application/json\") !== -1;\n  return isJson ? tryFormat(res.body) : res.body;\n}\nfunction tryFormat(body) {\n  try {\n    const parsed = typeof body === \"string\" ? JSON.parse(body) : body;\n    return JSON.stringify(parsed, null, 2);\n  } catch (err) {\n    return body;\n  }\n}\nfunction headers(_headers) {\n  let opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return {\n    processOptions: options => {\n      const existing = options.headers || {};\n      options.headers = opts.override ? Object.assign({}, existing, _headers) : Object.assign({}, _headers, existing);\n      return options;\n    }\n  };\n}\nvar __defProp$1 = Object.defineProperty;\nvar __defNormalProp$1 = (obj, key, value) => key in obj ? __defProp$1(obj, key, {\n  enumerable: true,\n  configurable: true,\n  writable: true,\n  value\n}) : obj[key] = value;\nvar __publicField$1 = (obj, key, value) => {\n  __defNormalProp$1(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nclass HttpError extends Error {\n  constructor(res, ctx) {\n    super();\n    __publicField$1(this, \"response\");\n    __publicField$1(this, \"request\");\n    const truncatedUrl = res.url.length > 400 ? \"\".concat(res.url.slice(0, 399), \"\\u2026\") : res.url;\n    let msg = \"\".concat(res.method, \"-request to \").concat(truncatedUrl, \" resulted in \");\n    msg += \"HTTP \".concat(res.statusCode, \" \").concat(res.statusMessage);\n    this.message = msg.trim();\n    this.response = res;\n    this.request = ctx.options;\n  }\n}\nfunction httpErrors() {\n  return {\n    onResponse: (res, ctx) => {\n      const isHttpError = res.statusCode >= 400;\n      if (!isHttpError) {\n        return res;\n      }\n      throw new HttpError(res, ctx);\n    }\n  };\n}\nfunction injectResponse() {\n  let opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  if (typeof opts.inject !== \"function\") {\n    throw new Error(\"`injectResponse` middleware requires a `inject` function\");\n  }\n  const inject = function inject2(prevValue, event) {\n    const response = opts.inject(event, prevValue);\n    if (!response) {\n      return prevValue;\n    }\n    const options = event.context.options;\n    return {\n      body: \"\",\n      url: options.url,\n      method: options.method,\n      headers: {},\n      statusCode: 200,\n      statusMessage: \"OK\",\n      ...response\n    };\n  };\n  return {\n    interceptRequest: inject\n  };\n}\nconst isBuffer = typeof Buffer === \"undefined\" ? () => false : obj => Buffer.isBuffer(obj);\nconst serializeTypes = [\"boolean\", \"string\", \"number\"];\nfunction jsonRequest() {\n  return {\n    processOptions: options => {\n      const body = options.body;\n      if (!body) {\n        return options;\n      }\n      const isStream = typeof body.pipe === \"function\";\n      const shouldSerialize = !isStream && !isBuffer(body) && (serializeTypes.indexOf(typeof body) !== -1 || Array.isArray(body) || isPlainObject(body));\n      if (!shouldSerialize) {\n        return options;\n      }\n      return Object.assign({}, options, {\n        body: JSON.stringify(options.body),\n        headers: Object.assign({}, options.headers, {\n          \"Content-Type\": \"application/json\"\n        })\n      });\n    }\n  };\n}\nfunction jsonResponse(opts) {\n  return {\n    onResponse: response => {\n      const contentType = response.headers[\"content-type\"] || \"\";\n      const shouldDecode = opts && opts.force || contentType.indexOf(\"application/json\") !== -1;\n      if (!response.body || !contentType || !shouldDecode) {\n        return response;\n      }\n      return Object.assign({}, response, {\n        body: tryParse(response.body)\n      });\n    },\n    processOptions: options => Object.assign({}, options, {\n      headers: Object.assign({\n        Accept: \"application/json\"\n      }, options.headers)\n    })\n  };\n  function tryParse(body) {\n    try {\n      return JSON.parse(body);\n    } catch (err) {\n      err.message = \"Failed to parsed response body as JSON: \".concat(err.message);\n      throw err;\n    }\n  }\n}\nfunction isBrowserOptions(options) {\n  return typeof options === \"object\" && options !== null && !(\"protocol\" in options);\n}\nfunction mtls() {\n  let config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  if (!config.ca) {\n    throw new Error('Required mtls option \"ca\" is missing');\n  }\n  if (!config.cert) {\n    throw new Error('Required mtls option \"cert\" is missing');\n  }\n  if (!config.key) {\n    throw new Error('Required mtls option \"key\" is missing');\n  }\n  return {\n    finalizeOptions: options => {\n      if (isBrowserOptions(options)) {\n        return options;\n      }\n      const mtlsOpts = {\n        cert: config.cert,\n        key: config.key,\n        ca: config.ca\n      };\n      return Object.assign({}, options, mtlsOpts);\n    }\n  };\n}\nlet actualGlobal = {};\nif (typeof globalThis !== \"undefined\") {\n  actualGlobal = globalThis;\n} else if (typeof window !== \"undefined\") {\n  actualGlobal = window;\n} else if (typeof global !== \"undefined\") {\n  actualGlobal = global;\n} else if (typeof self !== \"undefined\") {\n  actualGlobal = self;\n}\nvar global$1 = actualGlobal;\nfunction observable() {\n  let opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  const Observable =\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any -- @TODO consider dropping checking for a global Observable since it's not on a standards track\n  opts.implementation || global$1.Observable;\n  if (!Observable) {\n    throw new Error(\"`Observable` is not available in global scope, and no implementation was passed\");\n  }\n  return {\n    onReturn: (channels, context) => new Observable(observer => {\n      channels.error.subscribe(err => observer.error(err));\n      channels.progress.subscribe(event => observer.next(Object.assign({\n        type: \"progress\"\n      }, event)));\n      channels.response.subscribe(response => {\n        observer.next(Object.assign({\n          type: \"response\"\n        }, response));\n        observer.complete();\n      });\n      channels.request.publish(context);\n      return () => channels.abort.publish();\n    })\n  };\n}\nfunction progress() {\n  return {\n    onRequest: evt => {\n      if (evt.adapter !== \"xhr\") {\n        return;\n      }\n      const xhr = evt.request;\n      const context = evt.context;\n      if (\"upload\" in xhr && \"onprogress\" in xhr.upload) {\n        xhr.upload.onprogress = handleProgress(\"upload\");\n      }\n      if (\"onprogress\" in xhr) {\n        xhr.onprogress = handleProgress(\"download\");\n      }\n      function handleProgress(stage) {\n        return event => {\n          const percent = event.lengthComputable ? event.loaded / event.total * 100 : -1;\n          context.channels.progress.publish({\n            stage,\n            percent,\n            total: event.total,\n            loaded: event.loaded,\n            lengthComputable: event.lengthComputable\n          });\n        };\n      }\n    }\n  };\n}\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, {\n  enumerable: true,\n  configurable: true,\n  writable: true,\n  value\n}) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nconst promise = function () {\n  let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  const PromiseImplementation = options.implementation || Promise;\n  if (!PromiseImplementation) {\n    throw new Error(\"`Promise` is not available in global scope, and no implementation was passed\");\n  }\n  return {\n    onReturn: (channels, context) => new PromiseImplementation((resolve, reject) => {\n      const cancel = context.options.cancelToken;\n      if (cancel) {\n        cancel.promise.then(reason => {\n          channels.abort.publish(reason);\n          reject(reason);\n        });\n      }\n      channels.error.subscribe(reject);\n      channels.response.subscribe(response => {\n        resolve(options.onlyBody ? response.body : response);\n      });\n      setTimeout(() => {\n        try {\n          channels.request.publish(context);\n        } catch (err) {\n          reject(err);\n        }\n      }, 0);\n    })\n  };\n};\nclass Cancel {\n  constructor(message) {\n    __publicField(this, \"__CANCEL__\", true);\n    __publicField(this, \"message\");\n    this.message = message;\n  }\n  toString() {\n    return \"Cancel\".concat(this.message ? \": \".concat(this.message) : \"\");\n  }\n}\nconst _CancelToken = class _CancelToken {\n  constructor(executor) {\n    __publicField(this, \"promise\");\n    __publicField(this, \"reason\");\n    if (typeof executor !== \"function\") {\n      throw new TypeError(\"executor must be a function.\");\n    }\n    let resolvePromise = null;\n    this.promise = new Promise(resolve => {\n      resolvePromise = resolve;\n    });\n    executor(message => {\n      if (this.reason) {\n        return;\n      }\n      this.reason = new Cancel(message);\n      resolvePromise(this.reason);\n    });\n  }\n};\n__publicField(_CancelToken, \"source\", () => {\n  let cancel;\n  const token = new _CancelToken(can => {\n    cancel = can;\n  });\n  return {\n    token,\n    cancel\n  };\n});\nlet CancelToken = _CancelToken;\nconst isCancel = value => !!(value && (value == null ? void 0 : value.__CANCEL__));\npromise.Cancel = Cancel;\npromise.CancelToken = CancelToken;\npromise.isCancel = isCancel;\nfunction proxy(_proxy) {\n  if (_proxy !== false && (!_proxy || !_proxy.host)) {\n    throw new Error(\"Proxy middleware takes an object of host, port and auth properties\");\n  }\n  return {\n    processOptions: options => Object.assign({\n      proxy: _proxy\n    }, options)\n  };\n}\nvar defaultShouldRetry = (err, attempt, options) => {\n  if (options.method !== \"GET\" && options.method !== \"HEAD\") {\n    return false;\n  }\n  return err.isNetworkError || false;\n};\nconst isStream = stream => stream !== null && typeof stream === \"object\" && typeof stream.pipe === \"function\";\nvar sharedRetry = opts => {\n  const maxRetries = opts.maxRetries || 5;\n  const retryDelay = opts.retryDelay || getRetryDelay;\n  const allowRetry = opts.shouldRetry;\n  return {\n    onError: (err, context) => {\n      const options = context.options;\n      const max = options.maxRetries || maxRetries;\n      const shouldRetry = options.shouldRetry || allowRetry;\n      const attemptNumber = options.attemptNumber || 0;\n      if (isStream(options.body)) {\n        return err;\n      }\n      if (!shouldRetry(err, attemptNumber, options) || attemptNumber >= max) {\n        return err;\n      }\n      const newContext = Object.assign({}, context, {\n        options: Object.assign({}, options, {\n          attemptNumber: attemptNumber + 1\n        })\n      });\n      setTimeout(() => context.channels.request.publish(newContext), retryDelay(attemptNumber));\n      return null;\n    }\n  };\n};\nfunction getRetryDelay(attemptNum) {\n  return 100 * Math.pow(2, attemptNum) + Math.random() * 100;\n}\nconst retry = function () {\n  let opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return sharedRetry({\n    shouldRetry: defaultShouldRetry,\n    ...opts\n  });\n};\nretry.shouldRetry = defaultShouldRetry;\nfunction encode(data) {\n  const query = new URLSearchParams();\n  const nest = (name, _value) => {\n    const value = _value instanceof Set ? Array.from(_value) : _value;\n    if (Array.isArray(value)) {\n      if (value.length) {\n        for (const index in value) {\n          nest(\"\".concat(name, \"[\").concat(index, \"]\"), value[index]);\n        }\n      } else {\n        query.append(\"\".concat(name, \"[]\"), \"\");\n      }\n    } else if (typeof value === \"object\" && value !== null) {\n      for (const [key, obj] of Object.entries(value)) {\n        nest(\"\".concat(name, \"[\").concat(key, \"]\"), obj);\n      }\n    } else {\n      query.append(name, value);\n    }\n  };\n  for (const [key, value] of Object.entries(data)) {\n    nest(key, value);\n  }\n  return query.toString();\n}\nfunction urlEncoded() {\n  return {\n    processOptions: options => {\n      const body = options.body;\n      if (!body) {\n        return options;\n      }\n      const isStream = typeof body.pipe === \"function\";\n      const shouldSerialize = !isStream && !isBuffer(body) && isPlainObject(body);\n      if (!shouldSerialize) {\n        return options;\n      }\n      return {\n        ...options,\n        body: encode(options.body),\n        headers: {\n          ...options.headers,\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        }\n      };\n    }\n  };\n}\nfunction buildKeepAlive(agent) {\n  return function keepAlive() {\n    let config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    const ms = config.ms || 1e3;\n    const maxFree = config.maxFree || 256;\n    const agentOptions = {\n      keepAlive: true,\n      keepAliveMsecs: ms,\n      maxFreeSockets: maxFree\n    };\n    return agent(agentOptions);\n  };\n}\nconst keepAlive = buildKeepAlive(agent);\nexport { Cancel, CancelToken, agent, base, debug, headers, httpErrors, injectResponse, jsonRequest, jsonResponse, keepAlive, mtls, observable, progress, promise, proxy, retry, urlEncoded };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}